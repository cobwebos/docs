---
title: 配置必应自定义搜索体验 | Microsoft Docs
titlesuffix: Azure Cognitive Services
description: 介绍如何创建站点和垂直搜索服务
services: cognitive-services
author: aahill
manager: nitinme
ms.service: cognitive-services
ms.subservice: bing-custom-search
ms.topic: conceptual
ms.date: 02/12/2019
ms.author: aahi
ms.openlocfilehash: c4cb93e39a67e13646a339af6ac999a8fd96b383
ms.sourcegitcommit: de81b3fe220562a25c1aa74ff3aa9bdc214ddd65
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 02/13/2019
ms.locfileid: "56234809"
---
# <a name="configure-your-bing-custom-search-experience"></a>配置必应自定义搜索体验

可使用自定义搜索实例定制搜索体验，使其仅包含用户关心的网站上的内容。 必应不执行 Web 范围内的搜索，而只搜索你感兴趣的 Web 切片。 若要创建 Web 的自定义视图，请使用必应自定义搜索[门户](https://customsearch.ai)。

在该门户中可以创建一个搜索实例，用于指定你希望以及不希望必应搜索的 Web 切片：域、子页面和网页。 该门户还可以建议你可能想要包含的内容。

定义 Web 切片时，请使用以下各项：

| 切片名称 | 说明                                                                                                                                                                                                                                                                                                |
|------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 域     | 域切片包括在 Internet 域中找到的所有内容。 例如，`www.microsoft.com`。 省略 `www.` 会导致必应同时搜索该域的子域。 例如，如果指定  `microsoft.com`，则必应还会返回来自  `support.microsoft.com` 或 `technet.microsoft.com` 的结果。 |
| 子页面    | 子页面切片包括在子页面及其下面的路径中找到的所有内容。 最多可在路径中指定两个子页面。 例如： `www.microsoft.com/en-us/windows/`                                                                                                                       |
| 网页    | 网页切片在自定义搜索中只能包含该网页。 你可以选择指定是否包含子页面。                                                                                                                                                                                  |

> [!IMPORTANT]
> 指定的所有域、子页面和网页都必须是公开的，并由必应编制索引。 如果拥有要包含在搜索中的公共站点，并且必应尚未对其编制索引，请参阅必应[网站管理员文档](https://www.bing.com/webmaster/help/webmaster-guidelines-30fba23a)，了解有关让必应对其编制索引的详细信息。 另外，请参阅该网站管理员文档，了解有关在索引过期时让必应更新已爬网站点的详细信息。

## <a name="add-slices-of-the-web-to-your-custom-search-instance"></a>将 Web 切片添加到自定义搜索实例

定义自定义搜索实例时，可以指定要在搜索结果中包含或阻止的 Web 切片：域、子页面和网页。 

如果知道要包含在实例中的切片，请将它们添加到自定义搜索实例的“活动”列表中。 

如果不确定要包含哪些切片，可以在“预览”窗格中向必应发送搜索查询，然后选择所需的切片。 为此，请按以下步骤操作： 

1. 在“预览”窗格上的下拉列表中选择“必应”，然后输入搜索查询

2. 单击要包含的结果旁边的“添加站点”。 然后，单击“确定”。

>[!NOTE]
> [!INCLUDE[publish or revert](./includes/publish-revert.md)]

<a name="active-and-blocked-lists"></a>

### <a name="customize-your-search-experience-with-active-and-blocked-lists"></a>使用“活动”和“阻止”列表自定义搜索体验 

可以单击自定义搜索实例中的“活动”和“阻止”选项卡来访问活动和阻止的切片列表。 添加到活动列表的切片将包含在自定义搜索中。 不会搜索阻止的切片，并且它们不会显示在搜索结果中。

若要指定希望必应搜索的 Web 切片，请单击“活动”选项卡并添加一个或多个 URL。 若要编辑或删除 URL，请使用“控件”列下的选项。 

将 URL 添加到“活动”列表时，可以添加一个 URL，或者通过使用上传图标上传文本文件，一次性添加多个 URL。

![必应自定义搜索的“活动”选项卡](media/file-upload-icon.png)

若要上传文件，请创建一个文本文件，并在每行指定一个域、子页面或网页。 如果格式不正确，服务会拒绝你的文件。

> [!NOTE]
> * 只能将文件上传到“活动”列表。 无法使用该文件将切片添加到“阻止”列表。  
> * 如果“阻止”列表包含上传文件中指定的域、子页面或网页，则服务会将其从“阻止”列表中删除，并添加到“活动”列表。
> * 必应自定义搜索将忽略上传文件中的重复条目。 

### <a name="get-website-suggestions-for-your-search-experience"></a>获取搜索体验的网站建议

将 Web 切片添加到“活动”列表后，必应自定义搜索门户将在选项卡的底部生成网站和子页面建议。这些切片是必应自定义搜索认为你可能想要包含的切片。 更新自定义搜索实例的设置后，单击“刷新”可获取更新的建议。 仅当有可用的建议时，才会显示此部分。

## <a name="search-for-images-and-videos"></a>搜索图像和视频

可以使用[必应自定义图像搜索 API](https://docs.microsoft.com/rest/api/cognitiveservices/bing-custom-images-api-v7-reference) 或[必应自定义视频搜索 API](https://docs.microsoft.com/rest/api/cognitiveservices/bing-custom-videos-api-v7-reference) 来搜索类似于 Web 内容的图像和视频。 可以使用[托管 UI](hosted-ui.md) 或 API 显示这些结果。 

这些 API 类似于非自定义的[必应图像搜索](../Bing-Image-Search/overview.md)和[必应视频搜索](../Bing-Video-Search/search-the-web.md) API，但会搜索整个 Web，且不需要 `customConfig` 查询参数。 有关处理图像和视频的详细信息，请参阅相关的文档集。 

## <a name="test-your-search-instance-with-the-preview-pane"></a>使用“预览”窗格测试搜索实例

可以使用门户右侧的预览窗格来提交搜索查询和查看结果，以测试搜索实例。 

1. 在搜索框下面，选择“我的实例”。 可以选择“必应”，将搜索体验与必应提供的结果进行比较。 
2. 选择一个安全搜索筛选器以及要搜索的市场（请参阅[查询参数](https://docs.microsoft.com/rest/api/cognitiveservices/bing-custom-search-api-v7-reference#query-parameters)）。
3. 输入查询并按 Enter 或单击搜索图标以查看当前配置的结果。 可以通过单击“Web”、“图像”或“视频”更改所要执行的搜索类型，以获取相应的结果。 

<a name="adjustrank"></a>

## <a name="adjust-the-rank-of-specific-search-results"></a>调整特定搜索结果的排名

在门户中可以调整特定域、子页面和网页的搜索内容的结果排名。 在预览窗格中发送搜索查询后，每条搜索结果将包含可以进行的调整列表：  

|            |                                                                                                                                                                      |
|------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 街区      | 将域、子页面或网页移至“受阻”列表。 必应将排除选定站点中的内容，以防止其显示在搜索结果中。                    |
| 提升      | 在搜索结果中提高该域或子页面的内容。                                                                                        |
| 降级     | 对搜索结果中域或子页面的内容降级。 可选择是否对网页所属的域或子页面的内容降级。 |
| 固定至顶部 | 将域、子页面或网页移到“固定”列表。 这会强制该网页显示为给定搜索查询的最顶层搜索结果。                   |

调整排名不适用于图像或视频搜索。

### <a name="boosting-and-demoting-search-results"></a>提升和降级搜索结果

可对“活动”列表中的任何域或子页面进行超级提升、提升或降级。 默认情况下，添加的所有切片未经过排名调整。 超级提升或提升的 Web 切片在搜索结果中排名较高（超级提升排名高于提升）。 降级的项目在搜索结果中排名较低。

可以使用“活动”列表中的“排名调整”控件或使用“预览”窗格中的“提升”和“降级”控件对项目进行超级提升、提升或降级。 该服务会将切片添加到“活动”列表中并相应地调整排名。

> [!NOTE] 
> 提升和降级域与子页面是必应自定义搜索用来确定搜索结果顺序的诸多方法之一。 由于其他因素会影响不同 Web 内容的排名，因此调整排名产生的效果可能有所不同。 请使用“预览”窗格来测试调整搜索结果排名所造成的影响。 

超级提升、提升和降级不适用于图像和视频搜索。

## <a name="pin-slices-to-the-top-of-search-results"></a>将切片固定到搜索结果的顶部

在门户中，还可以使用“固定”选项卡将 URL 固定到特定搜索词的搜索结果的顶部。输入 URL 和查询，以指定要作为顶部结果显示的网页。 请注意，对于每个搜索查询，最多只能固定一个网页，并且搜索中只会显示已编制索引的网页。 固定结果不适用于图像或视频搜索。

可通过两种方式将网页固定到顶部：

* 在“固定”选项卡中，输入要固定到顶部的网页的 URL 及其相应的查询。 **** 

* 在“预览”窗格中，输入搜索查询并单击“搜索”。 找到要为查询固定的网页，然后单击“固定到顶部”。 **** 该网页和查询将添加到“固定”列表。

### <a name="specify-the-pins-match-condition"></a>指定固定项的匹配条件

默认情况下，仅当用户的查询字符串与“固定”列表中列出的某个查询字符串完全匹配时，网页才会固定到搜索结果的顶部。 可以通过指定以下匹配条件之一来更改此行为：

> [!NOTE]
> 用户搜索查询之间的所有比较以及固定项的搜索查询不区分大小写。

| 值 | 说明                                                                          |
|---------------|----------------------------------------------------------------------------------|
| 开头为 | 如果用户的查询字符串以固定项的查询字符串开头，则固定项为匹配项 |
| 结尾为   | 如果用户的查询字符串以固定项的查询字符串结尾，则固定项为匹配项。  |
| Contains    | 如果用户的查询字符串包含固定项的查询字符串，则固定项为匹配项。   |


若要更改固定项的匹配条件，请单击固定项的编辑图标。 在“查询匹配条件”列中，单击下拉列表并选择要使用的新条件。 然后，单击保存图表，保存更改。

### <a name="change-the-order-of-your-pinned-sites"></a>更改固定站点的顺序

若要更改固定项的顺序，可以拖放它们，或者通过单击“固定”列表的“控件”列中的“编辑”图标来编辑其顺序号。

如果多个固定项满足某个匹配条件，必应自定义搜索将使用列表中最高的固定项。

## <a name="view-statistics"></a>查看统计信息

如果在适当级别订阅了自定义搜索（请参阅[定价页](https://azure.microsoft.com/pricing/details/cognitive-services/bing-custom-search/)），则会在生产实例中添加“统计信息”选项卡。 “统计信息”选项卡显示有关如何使用自定义搜索终结点的详细信息，包括调用量、热门查询、地理分布、响应代码和安全搜索。 可以使用提供的控件筛选详细信息。

## <a name="usage-guidelines"></a>用法指南

- 对于每个自定义搜索实例，可以对“活动”和“受阻”切片进行的排名调整次数上限为 400 次。
- 将切片添加到“活动”或“受阻”选项卡计为一次排名调整。
- 提升和降级计为两次排名调整。
- 对于每个自定义搜索实例，可以执行的固定操作次数上限为 200 次。

## <a name="next-steps"></a>后续步骤

- [调用自定义搜索](./search-your-custom-view.md)
- [配置托管 UI 体验](./hosted-ui.md)
- [使用修饰标记来突出显示文本](./hit-highlighting.md)
- [网页](./page-webpages.md)
