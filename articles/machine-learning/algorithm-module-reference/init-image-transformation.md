---
title: 初始化图像转换
titleSuffix: Azure Machine Learning
description: 了解如何使用“初始化图像转换”模块来初始化图像转换。
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 05/26/2020
ms.openlocfilehash: f54dd09ac82ddefeb2528462c7131aa921592d2a
ms.sourcegitcommit: 877491bd46921c11dd478bd25fc718ceee2dcc08
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 07/02/2020
ms.locfileid: "84487944"
---
# <a name="init-image-transformation"></a>初始化图像转换

本文介绍如何使用 Azure 机器学习设计器（预览版）中的“初始化图像转换”模块来初始化图像转换，以指定所需的图像转换方式。

## <a name="how-to-configure-init-image-transformation"></a>如何配置“初始化图像转换”

1.  在设计器中将“初始化图像转换”模块添加到管道。 

2.  对于“重设大小”，请指定是否将输入 PIL 图像的大小重设为给定大小。 如果选择“True”，则可在“大小”中指定所需的输出图像大小，默认为 256。 

3.  对于“中心裁剪”，请指定是否要在中心裁剪给定的 PIL 图像。 如果选择“True”，则可在“裁剪大小”中指定该裁剪的所需输出图像大小，默认为 224。  

4.  对于“填充”(Pad)，请指定是否要将填充值设置为 0，以便填充给定 PIL 图像的所有边。 如果选择“True”，则可在“填充”(Padding) 中指定在每个边框上进行的填充（要添加的像素数）。

5.  对于“色彩抖动”，请指定是否要随机更改图像的亮度、对比度和饱和度。

6.  对于“灰度”，请指定是否要将图像转换为灰度图像。

7.  对于“随机重设裁剪大小”，请指定是否要按随机大小和纵横比裁剪给定的 PIL 图像。 将按原始大小的随机大小（范围为 0.08 到 1.0）和和原始纵横比的随机纵横比（范围为 3/4 到 4/3）进行裁剪。 此裁剪最终重设为给定大小。
    这通常用于训练 Inception 网络。 如果选择“True”，则可在“随机大小”中指定每个边的预期输出大小，默认为 256。

8.  对于“随机裁剪”，请指定是否要在随机位置裁剪给定的 PIL 图像。 如果选择“True”，则可在“随机裁剪大小”中指定该裁剪的所需输出大小，默认为 224。

9.  对于“随机水平翻转”，请指定是否要按 0.5 的概率随机地水平翻转给定的 PIL 图像。

10.  对于“随机垂直翻转”，请指定是否按 0.5 的概率随机垂直翻转给定的 PIL 图像。

11.  对于“随机旋转”，请指定是否要按角度旋转图像。 如果选择“True”，则可按度数范围进行指定，方法是设置“随机旋转度数”（意味着（-度，+度），默认值为 0）。

12.  对于“随机仿射”，请指定是否要在保持中心固定的情况下对图像进行随机仿射转换。 如果选择“True”，则可从“随机仿射度数”（意味着（-度，+度），默认值为 0）中选择度数，以便按度数范围进行指定。

13.  对于“随机灰度”，请指定是否要按 0.1 的概率将图像随机转换为灰度图像。

14.  对于“随机透视”，请指定是否按 0.5 的概率随机地对给定的 PIL 图像进行透视转换。


16.  连接到 [应用图像转换](apply-image-transformation.md) 模块，以便将上面指定的转换应用到输入图像数据集。

17. 提交管道。

## <a name="results"></a>结果

转换完成后，可以在 [应用图像转换](apply-image-transformation.md) 模块的输出中找到转换后的图像。


## <a name="technical-notes"></a>技术说明  

有关图像转换的详细信息，请参阅 [https://pytorch.org/docs/stable/torchvision/transforms.html](https://pytorch.org/docs/stable/torchvision/transforms.html)。

###  <a name="module-parameters"></a>模块参数  

| 名称                    | 范围   | 类型    | 默认 | 说明                              |
| ----------------------- | ------- | ------- | ------- | ---------------------------------------- |
| 调整大小                  | 任意     | 布尔 | True    | 将输入 PIL 图像的大小重设为给定大小 |
| 大小                    | >=1     | Integer | 256     | 指定所需的输出大小          |
| 中心裁剪             | 任意     | 布尔 | True    | 在中心裁剪给定的 PIL 图像  |
| 裁剪大小               | >=1     | Integer | 224     | 指定裁剪的所需输出大小 |
| Pad                     | 任意     | 布尔 | False   | 根据给定的“填充”值，填充给定 PIL 图像的所有边 |
| 填充                 | >=0     | Integer | 0       | 在每个边框上进行填充                   |
| 色彩抖动            | 任意     | 布尔 | False   | 随机更改图像的亮度、对比度和饱和度 |
| 灰度               | 任意     | 布尔 | False   | 将图像转换为灰度图像               |
| 随机重设裁剪大小     | 任意     | 布尔 | False   | 按随机大小和纵横比裁剪给定的 PIL 图像 |
| 随机大小             | >=1     | Integer | 256     | 每个边的预期输出大小        |
| 随机裁剪             | 任意     | 布尔 | False   | 在随机位置裁剪给定的 PIL 图像 |
| 随机裁剪大小        | >=1     | Integer | 224     | 裁剪的所需输出大小          |
| 随机水平翻转  | 任意     | 布尔 | True    | 按给定概率随机地水平翻转给定的 PIL 图像 |
| 随机垂直翻转    | 任意     | 布尔 | False   | 按给定概率随机地垂直翻转给定的 PIL 图像 |
| 随机旋转         | 任意     | 布尔 | False   | 按角度旋转图像                |
| 随机旋转度数 | [0,180] | Integer | 0       | 可供选择的度数范围          |
| 随机仿射           | 任意     | 布尔 | False   | 在保持中心固定的情况下对图像进行随机仿射转换 |
| 随机仿射度数   | [0,180] | Integer | 0       | 可供选择的度数范围          |
| 随机灰度        | 任意     | 布尔 | False   | 按 0.1 的概率将图像随机转换为灰度图像 |
| 随机透视      | 任意     | 布尔 | False   | 按 0.5 的概率随机地对给定的 PIL 图像进行透视转换 |
| 随机擦除          | 任意     | 布尔 | False   | 按 0.5 的概率随机选择图像中的一个矩形区域并擦除其像素 |

###  <a name="output"></a>输出  

| 名称                        | 类型                    | 说明                              |
| --------------------------- | ----------------------- | ---------------------------------------- |
| 输出图像转换 | TransformationDirectory | 输出可以连接到“应用图像转换”模块的图像转换。 |

## <a name="next-steps"></a>后续步骤

请参阅 Azure 机器学习的[可用模块集](module-reference.md)。 