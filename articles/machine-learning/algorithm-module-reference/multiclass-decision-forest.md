---
title: 多类决策林：模块参考
titleSuffix: Azure Machine Learning
description: 了解如何在 Azure 机器学习中使用多类决策林模块，以便根据决策林算法创建机器学习模型。
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 04/22/2020
ms.openlocfilehash: e22881a904ed33214e90604d71489d8691fe820b
ms.sourcegitcommit: 829d951d5c90442a38012daaf77e86046018e5b9
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 10/09/2020
ms.locfileid: "90883262"
---
# <a name="multiclass-decision-forest-module"></a>多类决策林模块

本文介绍 Azure 机器学习设计器中的模块。

使用此模块，可以根据决策林算法创建机器学习模型。 决策林是一种系综模型，可在从标记数据中学习的同时快速生成一系列决策树。

## <a name="more-about-decision-forests"></a>有关决策林的详细信息

决策林算法是一种用于分类的系综学习方法。 该算法的工作原理是生成多个决策树，然后对最受欢迎的输出类进行投票。 投票是一种聚合形式，其中分类决策林中的每棵树都输出标签的非标准化频率直方图。 聚合过程将这些直方图求和，并对结果进行标准化以获得每个标签的“概率”。 决策树的预测置信度越高，其在系综的最终决策中所占的权重越高。

决策树通常是非参数模型，这意味着它们支持具有不同分布的数据。 在每棵树中，为每个类运行一系列简单测试，从而增加树结构的级别，直到达到叶节点（决策）为止。

决策树具有许多优点：

+ 可以表示非线性决策边界。
+ 在训练和预测期间的计算和内存使用效率高。
+ 可执行集成的特征选择和分类。
+ 可以抵抗干扰特征的影响。

Azure 机器学习中的决策林分类器由决策树的系综构成。 一般说来，系综模型可以提供比单个决策树更大的覆盖范围和更高的准确度。 有关详细信息，请参阅[决策树](https://go.microsoft.com/fwlink/?LinkId=403677)。

## <a name="how-to-configure-multiclass-decision-forest"></a>如何配置多类决策林

1. 在设计器中，将“多类决策林”模块添加到管道。 可在“机器学习”、“初始化模型”和“分类”中找到此模块  。

2. 双击该模块以打开“属性”窗格。

3. 对于重新采样方法，请选择用于创建单个树的方法。  可以选择装袋或复制。

    + **装袋**：装袋也称为“启动聚合”。 在此方法中，每个树都在新示例的基础上发展。新示例的创建方法是，对原始数据集进行随机采样并替换，直到得到与原始数据集相同大小的数据集。 通过投票（一种聚合形式）组合模型的输出。 有关详细信息，请参阅关于启动聚合的维基百科条目。

    + **复制**：在复制中，每个树都用完全相同的输入数据进行训练。 确定每个树节点使用哪个拆分谓词仍然是随机的，从而创建了不同的树。

   

4. 通过设置“创建训练模式”选项，指定希望如何训练模型。

    + **单个参数**：如果知道自己想要如何配置模型，请选择此选项并提供一组值作为参数。

    + **参数范围**：如果不确定最佳参数并想要运行参数整理，请选择此选项。 选择要循环访问的值范围，[优化模型超参数](tune-model-hyperparameters.md)将循环访问所提供设置的所有可能组合，以确定产生最佳结果的超参数。   

5. **决策树的数目**：键入可在系综中创建的最大决策树数目。 通过创建更多决策树，可获得更好的覆盖范围，但训练时间可能会增加。

    此值还控制对经训练的模型进行可视化时在结果中显示的树的数量。 要查看或打印单个树，可将该值设置为 1；但是，这意味着只能生成一个树（带有初始参数集的树），而不会执行进一步的迭代。

6. **决策树的最大深度**：键入一个数字，以限制任何决策树的最大深度。 增加树的深度可能会提高精度，但存在过度拟合和训练时间增加的风险。

7. **每个节点的随机拆分数**：键入在生成树的每个节点时要使用的拆分数。 拆分意味着对树的每个级别（节点）的要素进行随机划分。

8. **每个叶节点的最小样本数**：指示在树中创建任何终端节点（叶）所需的最小事例数。 通过增加此值，可以增加创建新规则的阈值。

    例如，使用默认值 1 时，即使是单个事例也可以导致创建新规则。 如果将值增加到 5，则训练数据将必须包含至少五个满足相同条件的案例。



10. 连接标记的数据集，并训练模型：

    + 如果将“创建训练程序模式”设置为“单个参数”，请连接带标记的数据集和[训练模型](train-model.md)模块 。  
  
    + 如果将“创建训练程序模式”设置为“参数范围”，请连接带标记的数据集并使用[优化模型超参数](tune-model-hyperparameters.md)来训练模型 。  
  
    > [!NOTE]
    > 
    > 如果将参数范围传递给[训练模型](train-model.md)，则它只使用单个参数列表中的默认值。  
    > 
    > 如果将一组参数值传递给[优化模型超参数](tune-model-hyperparameters.md)模块，则当它期望每个参数有一系列设置时，它会忽略这些值，并为学习器使用默认值。  
    > 
    > 如果选择“参数范围”选项并为任何参数输入单个值，则整个整理过程中都会使用你指定的单个值，即使其他参数的值发生一系列更改。

11. 提交管道。



## <a name="next-steps"></a>后续步骤

请参阅 Azure 机器学习的[可用模块集](module-reference.md)。 