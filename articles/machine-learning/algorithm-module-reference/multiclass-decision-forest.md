---
title: 多类决策林：模块引用
titleSuffix: Azure Machine Learning
description: 了解如何使用 Azure 机器学习中的多类决策林模块来基于*决策林*算法创建机器学习模型。
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: xiaoharper
ms.author: zhanxia
ms.date: 10/22/2019
ms.openlocfilehash: 85459fe586ccbb5adb1e86b153ec63252c0cce2d
ms.sourcegitcommit: c22327552d62f88aeaa321189f9b9a631525027c
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 11/04/2019
ms.locfileid: "73466018"
---
# <a name="multiclass-decision-forest-module"></a>多类决策林模块

本文介绍 Azure 机器学习设计器（预览版）中的模块。

使用此模块可以基于*决策林*算法创建机器学习模型。 决策林是一种系综的模型，可快速生成一系列决策树，同时从标记的数据进行学习。

## <a name="more-about-decision-forests"></a>有关决策林的更多信息

决策林算法是一种用于分类的系综学习方法。 该算法的工作原理是构建多个决策树，然后对最常见的输出类进行*投票*。 投票是一种聚合形式，在这种形式中，分类决策林中的每个树都输出标签的非规范化频率直方图。 聚合过程对这些直方图求和并规范化结果，以获取每个标签的 "概率"。 预测置信度较高的树在最终决定系综时具有更大的权重。

通常，决策树是非参数模型，这意味着它们支持具有不同分布的数据。 在每个树中，为每个类运行一系列简单测试，从而增加树结构的级别，直到到达叶节点（决策）。

决策树具有很多优点：

+ 它们可以表示非线性决策边界。
+ 在训练和预测期间，它们的计算和内存使用效率很高。
+ 它们执行集成的特征选择和分类。
+ 它们可在存在干扰功能时复原。

Azure 机器学习中的决策林分类器由决策树的系综组成。 通常，系综模型提供比单一决策树更好的覆盖范围和准确性。 有关详细信息，请参阅[决策树](https://go.microsoft.com/fwlink/?LinkId=403677)。

## <a name="how-to-configure-multiclass-decision-forest"></a>如何配置多类决策林

1. 在设计器中将**多类决策林**模块添加到管道。 可以在 "**机器学习**"、"**初始化模型**" 和 "**分类**" 下找到此模块。

2. 双击该模块以打开 "**属性**" 窗格。

3. 对于 "重新**采样" 方法**，请选择用于创建单个树的方法。  可以从装袋或复制中进行选择。

    + **装袋**：装袋也称为*启动聚合*。 在此方法中，每个树都在新示例上增长，这是通过在数据集的大小为原始数据集的情况下随机采样原始数据集而创建的。 模型的输出通过*投票*合并，这是一种聚合形式。 有关详细信息，请参阅用于启动聚合的维基百科条目。

    + **复制**：在复制中，每个树都在完全相同的输入数据上定型。 确定对每个树节点使用哪个拆分谓词会保持不变，从而创建不同的树。

   

4. 通过设置 "**创建训练人员模式**" 选项，指定要如何定型模型。

    + **单个参数**：如果你知道想要如何配置模型，并提供一组值作为参数，请选择此选项。


5. **决策树的数量**：键入可在系综中创建的决策树的最大数目。 通过创建更多决策树，你可能获得更好的覆盖范围，但训练时间可能会增加。

    可视化定型模型时，此值还控制结果中显示的树的数目。 若要查看或打印单个树，可将值设置为 1;但是，这意味着只能生成一个树（带有初始参数集的树），而不执行进一步的迭代。

6. **决策树的最大深度**：键入一个数字，以限制任何决策树的最大深度。 增加树的深度可能会提高精度，同时降低某些过度拟合和定型时间。

7. **每个节点的随机拆分数**：在生成树的每个节点时，键入要使用的拆分数。 *拆分*意味着将随机划分树的每个级别（节点）中的功能。

8. **每个叶节点的最小样本数**：指示在树中创建任何终端节点（叶）所需的最小事例数。 通过增加此值，可以增加用于创建新规则的阈值。

    例如，默认值为1时，即使单个事例也可能导致创建新规则。 如果将该值增加到5，则定型数据必须至少包含五个满足相同条件的事例。



10. 连接带标签的数据集和训练模块之一：

    + 如果将 "**创建**训练人员模式" 设置为 "**单个参数**"，请使用 "[训练模型](./train-model.md)" 模块。

11. 运行管道。

## <a name="results"></a>结果

训练完成后：

+ 若要查看在每次迭代中创建的树，请右键单击 "[训练模型](./train-model.md)" 模块的输出，然后选择 "**可视化**"。
+ 若要查看每个节点的规则，请单击每个树以向下钻取拆分。


## <a name="next-steps"></a>后续步骤

查看可用于 Azure 机器学习[的模块集](module-reference.md)。 