---
title: 拆分数据：模块参考
titleSuffix: Azure Machine Learning service
description: 了解如何在 Azure 机器学习服务中使用拆分数据模块以数据集分割成两个不同的集。
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: xiaoharper
ms.author: zhanxia
ms.date: 05/02/2019
ROBOTS: NOINDEX
ms.openlocfilehash: a7395280ed9a2e9dcb94a081f0b3bf10a28da719
ms.sourcegitcommit: d4dfbc34a1f03488e1b7bc5e711a11b72c717ada
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/13/2019
ms.locfileid: "65029395"
---
# <a name="split-data-module"></a>拆分数据模块

本指南介绍了 Azure 机器学习服务的可视界面 （预览版） 的模块。

此模块用于数据集分割成两个不同的集。

当您需要将数据划分为定型和测试集时，此模块是特别有用。 可以自定义也划分数据的方式。 某些选项支持数据; 的随机化其他适合的某些数据类型或模型类型。

## <a name="how-to-configure"></a>如何配置

> [!TIP]
> 选择拆分模式前, 读取所有选项，以确定的拆分所需的类型。
> 如果更改拆分模式，则可以重置所有其他选项。

1. 添加**拆分数据**界面中进行实验的模块。 您可以找到此模块下的**Data Transformation**，在**样本和拆分**类别。

2. **拆分模式**:选择以下模式，具体取决于需要将的数据和你想要将其划分的类型之一。 每个拆分模式具有不同的选项。 单击以下主题详细的说明和示例。 

    - **拆分行**:如果只是想要将数据划分为两个部分，请使用此选项。 您可以指定要放在每个拆分中数据的百分比，但默认情况下，将数据分为 50-50。

        此外可以随机选择的每个组中的行，并使用分层的采样。 在分层采样，必须选择你想要在两个结果数据集之间均匀分配值的数据的单个列。  

    - **正则表达式拆分**想要通过测试单个列的值来分割数据集时选择此选项。

        例如，如果您正在分析情绪，无法检查存在的特定产品名中的文本字段，然后将数据集划分为目标产品名称，以及那些不含的行。

    - **相对表达式拆分**:只要您想要应用于数值列的条件，请使用此选项。 日期/时间字段、 列包含年龄或美元金额或甚至百分比，则可能是数。 例如，您可能想要将您的数据集，具体取决于项，按年龄范围的人员进行分组或单独的日历日期的数据的成本。

### <a name="split-rows"></a>将行拆分
1.  添加[拆分数据](./split-data.md)在界面中，在试验的模块并连接你想要拆分的数据集。
  
2.  有关**拆分模式**，选择**拆分行**。 

3.  **中的第一个输出数据集的行部分**。 此选项用于确定多少行进入第一个 （左侧） 输出。 所有其他行将转到第二个 （右侧） 输出。

    比率表示发送到第一个输出数据集，因此你必须键入一个介于 0 和 1 之间的十进制数字的行的百分比。
     
     例如，如果你键入 0.75 作为值，数据集将被分割 75:25 比率，使用 75%的行发送到第一个输出数据集，并发送到第二个输出数据集的 25%。
  
4. 选择**随机拆分**选项如果想以随机选定的数据为两个组。 创建训练和测试数据集时，这是首选的选项。

5.  **随机种子**:键入一个非负整数值来初始化实例要使用的伪随机序列。 在生成随机数字的所有模块中使用此默认种子。 

     指定种子使得结果通常可重现。 如果你需要重复执行拆分操作的结果，则应指定随机数生成器的种子。 否则为 0，这意味着从系统时钟获取初始种子值的默认情况下设置随机种子。 因此，数据的分布情况可能略有不同每次执行一个拆分。 

6. **分层的拆分**:此选项设置为 **，则返回 True**以确保两个输出数据集包含中的值的代表性示例*阶层列*或*分层键列*。 

    使用分层采样，则数据将划分，以便每个输出数据集获取大致相同的每个目标值的百分比。 例如，可能想要确保您的培训和测试集大致平衡方面的结果，或与认为 ot 如性别的一些其他列。

7. 运行试验。


## <a name="regular-expression-split"></a>正则表达式拆分

1.  添加[拆分数据](./split-data.md)模块在试验中，并将其连接作为想要拆分的数据集的输入。  
  
2.  有关**拆分模式**，选择**正则表达式拆分**。

3. 在中**正则表达式**框中，键入有效的正则表达式。 
  
   正则表达式应遵循 Python 正则表达式语法。


4. 运行试验。

    根据你提供的正则表达式，该数据集划分为两个行集： 具有匹配的表达式和所有剩余行的值的行。 

## <a name="relative-expression-split"></a>相对表达式拆分。

1. 添加[拆分数据](./split-data.md)模块在试验中，并将其连接作为想要拆分的数据集的输入。
  
2. 有关**拆分模式**，选择**相对表达式拆分**。
  
3. 在中**关系表达式**文本框中，键入一个表达式，执行比较运算，对单个列：


 - 数值列：
    - 列中包含的任何数值数据类型，包括日期/时间数据类型的数字。

    - 表达式可以引用一个列名称的最大值。

    - 使用与号 (&) 与运算和使用竖线 (|) 表示 OR 运算。

    - 支持下列运算符： `<`， `>`， `<=`， `>=`， `==`， `!=`

    - 不能使用分组运算`(`和`)`。

 - 字符串列： 
    - 支持下列运算符： `==`， `!=`



4. 运行试验。

    该表达式将数据集划分为两个行集： 具有满足该条件的值的行和所有剩余行。

## <a name="next-steps"></a>后续步骤

请参阅[可用的模块集](module-reference.md)到 Azure 机器学习服务。 