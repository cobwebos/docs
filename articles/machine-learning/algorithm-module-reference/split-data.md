---
title: 拆分数据：模块引用
titleSuffix: Azure Machine Learning
description: 了解如何使用 Azure 机器学习中的 "拆分数据" 模块将数据集划分为两个不同的集。
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: xiaoharper
ms.author: zhanxia
ms.date: 10/22/2019
ms.openlocfilehash: b707971f0b150bce63b4dd0ffa4e55dc3b3d6bac
ms.sourcegitcommit: a9b1f7d5111cb07e3462973eb607ff1e512bc407
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 01/22/2020
ms.locfileid: "76313946"
---
# <a name="split-data-module"></a>拆分数据模块

本文介绍 Azure 机器学习设计器中的模块。

使用此模块将数据集划分为两个不同的集。

当需要将数据分为定型集和测试集时，此模块特别有用。 您也可以自定义数据划分的方式。 某些选项支持随机化数据;其他数据类型为特定的数据类型或模型类型而定制。

## <a name="how-to-configure"></a>如何配置

> [!TIP]
> 在选择拆分模式之前，请阅读所有选项以确定所需的拆分类型。
> 如果更改拆分模式，则所有其他选项都可以重置。

1. 在设计器中将 "**拆分数据**" 模块添加到管道。 可以在 "**示例" 和 "拆分**" 类别中的 "**数据转换**" 下找到此模块。

2. **拆分模式**：根据所拥有的数据类型以及要如何划分，选择以下模式之一。 每个拆分模式都有不同的选项。 有关详细说明和示例，请单击以下主题。 

    - **拆分行**：如果只想将数据分为两部分，请使用此选项。 您可以指定要置于每个拆分中的数据的百分比，但在默认情况下，数据被划分为50-50。

        您还可以在每个组中随机化选择行并使用分层采样。 在分层采样中，你必须选择要在两个结果数据集之间平均分配值的单个数据列。  

    - **正则表达式拆分** 如果希望通过测试单个列中的值来划分数据集，请选择此选项。

        例如，如果您正在分析情绪，则可以在文本字段中检查是否存在特定的产品名称，然后将数据集拆分为具有目标产品名称的行，而不会将其划分为多行。

    - **相对表达式拆分**：每当要对数字列应用条件时，请使用此选项。 该数字可以是日期/时间字段、包含年龄或美元量的列，甚至可以是百分比。 例如，你可能想要根据项目成本、按年龄范围分组人员或按日历日期分隔数据来划分数据集。

### <a name="split-rows"></a>拆分行

1.  在设计器中将 "[拆分数据](./split-data.md)" 模块添加到管道中，并连接要拆分的数据集。
  
2.  对于**拆分模式**，请选择 "**拆分行**"。 

3.  **第一个输出数据集中的行的小数部分**。 使用此选项可确定进入第一个（左侧）输出的行数。 所有其他行将移到第二个（右手）输出。

    此比率表示发送到第一个输出数据集的行的百分比，因此必须键入一个介于0和1之间的十进制数字。
     
     例如，如果你键入 0.75 作为值，数据集将使用 75:25 的比率进行分割，有 75% 的行发送到第一个输出数据集，另 25% 发送到第二个输出数据集。
  
4. 如果要将选定的数据随机加入两个组，请选择 "**随机拆分**" 选项。 这是创建定型和测试数据集时的首选选项。

5.  **随机种子**：键入一个非负整数值以初始化要使用的实例的伪随机序列。 此默认种子将在生成随机数字的所有模块中使用。 

     指定种子会使结果通常是可重复的。 如果需要重复执行拆分操作的结果，则应指定随机数生成器的种子。 否则为 0，这意味着从系统时钟获取初始种子值的默认情况下设置随机种子。 因此，数据的分布情况可能略有不同每次执行一个拆分。 

6. **分层 split**：将此选项设置为**True**可确保两个输出数据集包含*阶层列*或*分层键列*中值的代表性示例。 

    对于分层采样，将对数据进行划分，以便每个输出数据集大约获取每个目标值的相同百分比。 例如，你可能希望确保你的定型集和测试集在结果方面大致平衡，或者考虑其他一些列（如性别）。

7. 运行管道。


## <a name="regular-expression-split"></a>正则表达式拆分

1.  将 "[拆分数据](./split-data.md)" 模块添加到管道，并将其作为输入连接到要拆分的数据集。  
  
2.  对于**拆分模式**，请选择 "**正则表达式拆分**"。

3. 在 "**正则表达式**" 框中，键入有效的正则表达式。 
  
   正则表达式应遵循 Python 正则表达式语法。


4. 运行管道。

    根据你提供的正则表达式，数据集分为两组行：行，其值与表达式和所有剩余行匹配。 

## <a name="relative-expression-split"></a>相对表达式拆分。

1. 将 "[拆分数据](./split-data.md)" 模块添加到管道，并将其作为输入连接到要拆分的数据集。
  
2. 对于**拆分模式**，请选择 "**相对表达式拆分**"。
  
3. 在 "**关系表达式**" 文本框中，在单个列上键入执行比较运算的表达式：


 - 数值列：
    - 列包含任何数值数据类型的数字，包括日期/时间数据类型。

    - 表达式最多可以引用一个列名称。

    - 对和操作使用 "&" 字符（&），并对或运算使用竖线字符（|）。

    - 支持以下运算符： `<`、`>`、`<=`、`>=`、`==`、`!=`

    - 不能使用 `(` 和 `)`对操作进行分组。

 - 字符串列： 
    - 支持以下运算符： `==`、`!=`



4. 运行管道。

    表达式将数据集分成两组行：值满足条件的行和所有剩余行。

## <a name="next-steps"></a>后续步骤

查看可用于 Azure 机器学习[的模块集](module-reference.md)。 