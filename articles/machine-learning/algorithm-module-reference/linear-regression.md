---
title: 线性回归：模块参考
titleSuffix: Azure Machine Learning service
description: 了解如何在 Azure 机器学习服务中使用线性回归模块在试验中创建用于线性回归模型。
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: xiaoharper
ms.author: zhanxia
ms.date: 05/02/2019
ROBOTS: NOINDEX
ms.openlocfilehash: 040f726a703d34a95bae7d5b7cdd766655c62a4e
ms.sourcegitcommit: d4dfbc34a1f03488e1b7bc5e711a11b72c717ada
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/13/2019
ms.locfileid: "65029710"
---
# <a name="linear-regression-module"></a>线性回归模块
本指南介绍了 Azure 机器学习服务的可视界面 （预览版） 的模块。

使用此模块在试验中创建用于线性回归模型。  线性回归将尝试建立一个或多个自变量和数字结果或因变量之间的线性关系。 

使用此模块可以定义线性回归方法，然后使用标记的数据集对模型定型。 然后可以使用训练的模型进行预测。

## <a name="about-linear-regression"></a>有关线性回归

线性回归是一种常用的统计方法，它已在机器学习中采用并增强了许多新方法调整行和测量错误。 在最基本的意义上，回归是指预测数值的目标。 线性回归的基本的预测任务需要一个简单模型仍是一个不错的选择。 线性回归还通常能够有效处理缺少复杂性的高维、 稀疏数据集。

Azure 机器学习支持的各种回归模型，除了线性回归。 但是，可以松散，解释术语"回归"和不支持某些类型的其他工具中提供的回归。

+ 经典的回归问题涉及单个自变量和因变量。 这称为*简单的回归*。  此模块支持简单的回归。

+ *多个线性回归*涉及两个或多个自变量构成一个因变量。 在其中使用多个输入来预测单个数值结果的问题也称为*多变量线性回归*。

    **线性回归**模块可以解决这些问题，如可能的大多数其他回归模块。

+ *多标签回归*是预测单个模型中的多个因变量的任务。 例如，示例在多标签逻辑回归中，它可以分配给多个不同的标签。 （这不同于预测单个类变量中的多个级别的任务。）

    在 Azure 机器学习中不支持这种类型的回归。 若要预测多个变量，创建一个单独的学习器所要预测的每个输出。

多年以来统计学家一直在开发越来越高级的回归方法。 这是即使对于线性回归，则返回 true。 此模块支持两种方法可以测量误差和拟合回归线： 普通最小二乘法方法，并且梯度下降。

- **梯度下降**是一种方法的最大程度减少数量的每个步骤的模型训练过程的错误。 有许多变体梯度下降和已广泛研究各种学习问题及其优化。 如果选择此选项用于**解决方案方法**，可以设置多个参数来控制步长、 学习速率和等等。 此选项还支持使用集成的参数扫描。

- **普通最小二乘法**是一种最常用的技术的线性回归。 例如，最小二乘法是 Microsoft Excel 中分析工具库使用的方法。

    普通最小二乘法是指丢失函数中，也不能从实际值与预测线的距离的平方的总和计算误差降至最低的平方的误差适用的模型。 此方法假设输入与因变量之间的强线性关系。

## <a name="configure-linear-regression"></a>配置线性回归

此模块支持两种方法来拟合回归模型，使用不同选项：

+ [创建回归模型使用在线梯度下降](#bkmk_GradientDescent)

    梯度下降是更好的模型更复杂，或具有给定变量数极少训练数据的丢失函数。



+ [适合使用普通最小二乘法回归模型](#bkmk_OrdinaryLeastSquares)

    对于小型数据集，则最好选择普通最小二乘法。 这应为 Excel 提供类似的结果。

## <a name="bkmk_OrdinaryLeastSquares"></a> 创建使用普通最小二乘法回归模型

1. 添加**线性回归模型**界面中进行实验的模块。

    您可以找到此模块中的**机器学习**类别。 展开**初始化模型**，展开**回归**，然后将拖**线性回归模型**模块在试验。

2. 在中**属性**窗格中，在**解决方案方法**下拉列表中选择**普通最小二乘法**。 此选项指定用来查找回归线的计算方法。

3. 在中**L2 正则化权重**，键入要用作 L2 正则化权重的值。 我们建议使用一个非零值来避免过度拟合。

     若要了解有关正则化如何影响模型拟合的详细信息，请参阅此文章：[L1 和 L2 正则化的机器学习](https://msdn.microsoft.com/magazine/dn904675.aspx)

4. 选择的选项**包括截距项**，如果您想要查看截距的术语。

    如果无需查看的回归公式，请取消选择此选项。

5. 有关**随机种子**，您可以选择键入一个值，以设置模型使用的随机数字生成器种子。

    使用种子值很有用，如果你想要在不同运行同一试验之间维护相同的结果。 否则，默认值是使用中的系统时钟的值。


7. 添加[训练模型](./train-model.md)模块在试验中，并将连接标记的数据集。

8. 运行试验。

## <a name="results-for-ordinary-least-squares-model"></a>普通最小二乘法模型的结果

培训完成后：

+ 若要查看模型的参数，请右键单击培训师输出并选择**可视化**。

+ 若要进行预测，连接到的已训练的模型[评分模型](./score-model.md)模块，以及新值的数据集。 


## <a name="bkmk_GradientDescent"></a> 创建回归模型使用在线梯度下降

1. 添加**线性回归模型**界面中进行实验的模块。

    您可以找到此模块中的**机器学习**类别。 展开**初始化模型**，展开**回归**，并将其拖**线性回归模型**模块在试验

2. 中**属性**窗格中**解决方案方法**下拉列表中，选择**在线梯度下降**作为用来查找回归线的计算方法。

3. 有关**创建训练器模式**，指示是否想要训练该模型使用一组预定义的参数，或如果你想要使用参数扫描优化模型。

    + **单一参数**:如果你知道你想要配置线性回归网络，你可以提供一组特定的值作为参数。

   
4. 有关**学习速率**，指定随机梯度下降优化器的初始学习速率。

5. 有关**培训时期数**，一个值，指示该算法的次数应循环访问示例的类型。 对于较少的示例数据集，此数字应大以达到收敛。

6. **规范化特征**:如果已处理已规范化的用来训练该模型的数值数据，可以取消选择此选项。 默认情况下，该模块将规范化到范围介于 0 和 1 之间的所有数字输入。

    > [!NOTE]
    > 
    > 请记住将相同的规范化方法应用于新数据用于进行评分。

7. 在中**L2 正则化权重**，键入要用作 L2 正则化权重的值。 我们建议使用一个非零值来避免过度拟合。

    若要了解有关正则化如何影响模型拟合的详细信息，请参阅此文章：[L1 和 L2 正则化的机器学习](https://msdn.microsoft.com/magazine/dn904675.aspx)


9. 选择的选项**降低学习速率**，如果你想学习率，才能随着迭代的进行而降低。  

10. 有关**随机种子**，您可以选择键入一个值，以设置模型使用的随机数字生成器种子。 使用种子值很有用，如果你想要在不同运行同一试验之间维护相同的结果。


12. 添加标记的数据集和定型模块之一。

    如果不使用参数扫描，使用[训练模型](train-model.md)模块。

13. 运行试验。

## <a name="results-for-online-gradient-descent"></a>在线梯度下降的结果

培训完成后：

+ 若要进行预测，连接到的已训练的模型[评分模型](./score-model.md)模块，以及新的输入数据。


## <a name="next-steps"></a>后续步骤

请参阅[可用的模块集](module-reference.md)到 Azure 机器学习服务。 