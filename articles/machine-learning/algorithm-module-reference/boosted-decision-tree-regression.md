---
title: 提升决策树回归:模块参考
titleSuffix: Azure Machine Learning service
description: 了解如何使用 Azure 机器学习服务中的提升决策树回归模块, 通过使用提升来创建回归树的系综。
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: xiaoharper
ms.author: zhanxia
ms.date: 05/02/2019
ms.openlocfilehash: de4135c2e516eb7f26e1b99a22a60501f4577cce
ms.sourcegitcommit: 07700392dd52071f31f0571ec847925e467d6795
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/28/2019
ms.locfileid: "70128960"
---
# <a name="boosted-decision-tree-regression-module"></a>提升决策树回归模块

本文介绍了 Azure 机器学习服务的可视界面 (预览) 的模块。

使用此模块可以通过使用提升来创建回归树的系综。 *提高*意味着每个树都依赖于以前的树。 该算法通过将其前面的树的残留关系起来来了解。 因此, 决策树中的提升系综往往会提高准确性, 同时降低范围。  
  
此回归方法是监督式学习方法, 因此需要标记的*数据集*。 标签列必须包含数字值。  

> [!NOTE]
> 仅将此模块用于使用数值变量的数据集。  

定义模型后, 使用[定型模型](./train-model.md)对其进行训练。

> [!TIP]
> 想要了解有关已创建的树的详细信息？ 在对模型进行定型后, 右键单击 "[定型模型](./train-model.md)" 模块的输出并选择 "**可视化**" 以查看在每个迭代上创建的树。 可以向下钻取每个树的拆分, 并查看每个节点的规则。  
  
## <a name="more-about-boosted-regression-trees"></a>有关提升回归树的详细信息  

提升是创建系综模型和装袋、随机林等的几种经典方法之一。  在 Azure 机器学习中, 提升的决策树使用市场渐变提升算法的有效实现。 渐变提升是一种用于回归问题的机器学习技术。 它使用预定义的损失函数来度量每个步骤中的错误并在下一步中正确地对其进行更正, 从而以单步方式生成每个回归树。 因此, 预测模型实际上是系综的预测模型。  
  
在回归问题中, 提升以逐步方式生成一系列树, 然后使用任意可微损失函数选择最佳树。  
  
有关其他信息, 请参阅以下文章:  
  
+ [https://wikipedia.org/wiki/Gradient_boosting#Gradient_tree_boosting](https://wikipedia.org/wiki/Gradient_boosting)

    有关渐变提升的这一维基百科文章提供了一些在提升树中的背景。 
  
-  [https://research.microsoft.com/apps/pubs/default.aspx?id=132652](https://research.microsoft.com/apps/pubs/default.aspx?id=132652)  

    Microsoft Research：From RankNet to LambdaRank to LambdaMART:概述。 作者: J.C。 Burges.

还可以通过将渐变提升方法用于分类问题, 通过适当的损失函数降低这些问题的回归。 有关分类任务的提升树实现的详细信息, 请参阅[双类提升决策树](./two-class-boosted-decision-tree.md)。  

## <a name="how-to-configure-boosted-decision-tree-regression"></a>如何配置提升决策树回归

1.  将**提升决策树**模块添加到试验中。 您可以在 "**回归**" 类别下**机器学习**"**初始化**" 下找到此模块。 
  
2.  通过设置 "**创建训练人员模式**" 选项, 指定要如何定型模型。  
  
    -   **单个参数**:如果你知道想要如何配置模型, 并提供一组特定值作为参数, 请选择此选项。  
   
  
3. **每个树的最大叶数**:指示可在任何树中创建的终端节点 (叶) 的最大数目。  

    如果增加此值, 则可能会增加树的大小并获得更好的精度, 同时降低过度拟合的风险和更长的定型时间。  

4. **每个叶节点的最小样本数**:指示在树中创建任何终端节点 (叶) 所需的最小事例数。

    通过增加此值, 可以增加用于创建新规则的阈值。 例如, 默认值为1时, 即使单个事例也可能导致创建新规则。 如果将该值增加到 5, 则定型数据必须至少包含5个满足相同条件的事例。

5. **学习率**:键入一个介于0和1之间的数字, 用于在学习时定义步长大小。 学习速率确定学习器在最佳解决方案上的汇聚速度和速度。 如果步长太大, 则可能超过最佳解决方案。 如果步长太小, 训练将花费更长的时间来聚合最佳解决方案。

6. **构造的树数**:指示要在系综中创建的决策树的总数。 通过创建更多决策树, 你可能获得更好的覆盖范围, 但训练时间会增加。

    此值还控制在可视化定型模型时显示的树的数目。 若要查看或打印 ingle 树, 可将值设置为 1;但是, 只生成一个树 (带有初始参数集的树), 而不执行进一步的迭代。

7. **随机数字种子**:键入要用作随机种子值的可选非负整数。 指定种子可确保跨运行的可再现性具有相同的数据和参数。

    默认情况下, 随机种子设置为 0, 这意味着初始种子值是从系统时钟获取的。
  
8. **允许未知的分类级别**:选择此选项可在定型集和验证集中为未知值创建组。 如果取消选择此选项, 该模型只会接受训练数据中包含的值。 对于已知值, 该模型可能不太准确, 但它可以为新 (未知) 值提供更好的预测。

9. 添加定型数据集和训练模块之一:

    - 如果将 "**创建训练人员模式**" 选项设置为 "**单个参数**", 请使用 "[训练模型](train-model.md)" 模块。  
  
    

10. 运行试验。  
  
### <a name="results"></a>结果

训练完成后:

+ 若要查看在每次迭代中创建的树, 请右键单击 "[训练模型](train-model.md)" 模块的输出, 然后选择 "**可视化**"。
  
     单击每个树可向下钻取拆分, 并查看每个节点的规则。  

+ 若要使用该模型进行评分, 请将其连接到[评分模型](./score-model.md), 以预测新输入示例的值。

+ 若要保存训练的模型的快照, 请右键单击定型模块的训练**模型**输出, 并选择 "**另存为**"。 保存的训练模型的副本不会在后续运行的实验中更新。

## <a name="next-steps"></a>后续步骤

查看可用于 Azure 机器学习服务[的模块集](module-reference.md)。 