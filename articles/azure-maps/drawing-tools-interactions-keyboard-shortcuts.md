---
title: 地图上的绘图工具交互类型和键盘快捷方式 |Microsoft Azure 映射
description: 如何在 Microsoft Azure Map Web SDK 中使用鼠标、触摸屏或键盘绘制和编辑形状
author: rbrundritt
ms.author: richbrun
ms.date: 12/05/2019
ms.topic: conceptual
ms.service: azure-maps
services: azure-maps
manager: cpendle
ms.openlocfilehash: fb8a1e1a8c29086553500bdad2e4604d1e1ef471
ms.sourcegitcommit: 333af18fa9e4c2b376fa9aeb8f7941f1b331c11d
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 02/13/2020
ms.locfileid: "77198286"
---
# <a name="interaction-types-and-keyboard-shortcuts-in-the-drawing-tools-module"></a>绘图工具模块中的交互类型和键盘快捷方式

本文概述了使用鼠标、触摸屏或键盘快捷方式绘制和编辑形状的所有不同方式。

绘图管理器支持通过三种不同的方式与地图进行交互，以便绘制形状。

* 单击鼠标或触摸时添加 `click` 坐标。
* 当鼠标或触摸拖动到地图上时，将添加 `freehand ` 坐标。
* 单击或拖动鼠标或触摸时添加 `hybrid` 坐标。

## <a name="how-to-draw-shapes"></a>如何绘制形状

 绘制任意形状之前，请将绘图管理器的 "`drawingMode`" 选项设置为支持的绘图设置。 此设置可通过按工具栏上的一个绘图按钮进行编程或调用。 即使在绘制形状后，绘制模式仍处于启用状态，这样就可以轻松地绘制相同类型的其他形状。 以编程方式将绘图模式设置为空闲状态。 或者，通过单击工具栏上的 "当前绘制模式" 按钮切换到空闲状态。

以下各节概述了可在地图上绘制形状的所有不同方式。

### <a name="how-to-draw-a-point"></a>如何绘制点

当绘图管理器处于 `draw-point` 绘图模式时，可以执行以下操作来绘制地图上的点。 这些方法适用于所有交互模式。

**开始绘制**
 - 单击鼠标左键，或按地图，将点添加到地图中。 
 - 如果鼠标位于地图上方，请按 `F` 键，然后将在鼠标指针的坐标处添加一个点。 此方法为将点添加到地图提供更高的准确性。 由于鼠标左键按下鼠标按钮，因此鼠标移动将减少。
 - 继续单击、触摸或按 `F` 将更多的点添加到地图中。
 
**完成绘制**
 - 单击 "绘图" 工具栏中的任意一个按钮。 
 - 以编程方式设置绘图模式。 
 - 按 `C` 键。

**取消绘图**
 - 按 `Escape` 键。

### <a name="how-to-draw-a-line"></a>如何绘制线条

当绘图管理器处于 `draw-line` 模式时，可以执行下列操作来根据交互模式在地图上绘制点。

**开始绘制**
 - 单击模式
   * 单击鼠标左键，或按地图，在地图上添加直线的每个点。 每次单击或触摸时都会向线条添加坐标。 
   * 如果鼠标位于地图上方，请按 `F` 键，然后将在鼠标指针的坐标处添加一个点。 此方法为将点添加到地图提供更高的准确性。 由于鼠标左键按下鼠标按钮，因此鼠标移动将减少。
   * 继续单击直到将所有所需的点添加到该行。
 - 手绘模式
   * 按下鼠标左键，或在地图上向下轻按，然后拖动鼠标或接触点。 当鼠标或触控点在地图上移动时，将在行中添加坐标。 一旦触发了鼠标或触摸事件，就完成了绘制。 添加坐标的频率由绘图管理器 `freehandInterval` 选项定义。
 - 混合模式
   * 在绘制单个线条的情况下，根据需要在 "单击" 和 "手绘" 方法之间切换。 例如，单击几个点，然后按住并拖动鼠标添加一组点，再单击几个点。 

**完成绘制**
 - 混合/单击模式
   * 双击最后一个点处的地图。 
   * 单击 "绘图" 工具栏中的任意一个按钮。 
   * 以编程方式设置绘图模式。 
 - 手绘模式
   * 释放鼠标按钮或触摸点。
 - 按 `C` 键。

**取消绘图**
 - 按 `Escape` 键。

### <a name="how-to-draw-a-polygon"></a>如何绘制多边形

当绘图管理器处于 `draw-polygon` 模式时，可以执行下列操作来根据交互模式在地图上绘制点。

**开始绘制**
 - 单击模式
   * 单击鼠标左键，或按地图，在地图上添加多边形的每个点。 每次单击或触摸时都会向多边形添加坐标。 
   * 如果鼠标位于地图上方，请按 `F` 键，然后将在鼠标指针的坐标处添加一个点。 此方法为将点添加到地图提供更高的准确性。 由于鼠标左键按下鼠标按钮，因此鼠标移动将减少。
   * 继续单击直到将所有所需的点添加到多边形。
 - 手绘模式
   * 按下鼠标左键，或在地图上向下轻按，然后拖动鼠标或接触点。 当鼠标或触控点在地图上移动时，将在多边形中添加坐标。 一旦触发了鼠标或触摸事件，就完成了绘制。 添加坐标的频率由绘图管理器 `freehandInterval` 选项定义。
 - 混合模式
   * 在绘制单个多边形时，根据需要在 "单击" 和 "手绘" 方法之间切换。 例如，单击几个点，然后按住并拖动鼠标添加一组点，再单击几个点。 

**完成绘制**
 - 混合/单击模式
   * 双击最后一个点处的地图。 
   * 单击多边形的第一个点。
   * 单击 "绘图" 工具栏中的任意一个按钮。 
   * 以编程方式设置绘图模式。 
 - 手绘模式
   * 释放鼠标按钮或触摸点。
 - 按 `C` 键。

**取消绘图**
 - 按 `Escape` 键。

### <a name="how-to-draw-a-rectangle"></a>如何绘制矩形

当绘图管理器处于 `draw-rectangle` 模式时，可以执行下列操作来根据交互模式在地图上绘制点。 生成的形状将遵循[矩形的扩展 GeoJSON 规范](extend-geojson.md#rectangle)。

**开始绘制**
 - 按下鼠标左键，或在地图上向下轻按，以添加矩形的第一个角并拖动以创建矩形。 

**完成绘制**
 - 释放鼠标按钮或触摸点。
 - 以编程方式设置绘图模式。 
 - 按 `C` 键。

**取消绘图**
 - 按 `Escape` 键。

### <a name="how-to-draw-a-circle"></a>如何绘制圆形

当绘图管理器处于 `draw-circle` 模式时，可以执行下列操作来根据交互模式在地图上绘制点。 生成的形状将遵循[圆圈的扩展 GeoJSON 规范](extend-geojson.md#circle)。

**开始绘制**
 - 按下鼠标左键，或在地图上向下轻按，以添加圆形的中心，并拖动使圆圈成为半径。 

**完成绘制**
 - 释放鼠标按钮或触摸点。
 - 以编程方式设置绘图模式。 
 - 按 `C` 键。

**取消绘图**
 - 按 `Escape` 键。

## <a name="keyboard-shortcuts"></a>键盘快捷键

绘图工具支持键盘快捷方式。 当地图处于焦点时，这些键盘快捷方式将正常运行。

| Key      | 操作                            |
|----------|-----------------------------------|
| `C` | 完成正在进行的任何绘图，并将绘图模式设置为 "空闲"。 焦点将移到顶级地图元素。  |
| `Escape` | 取消正在进行的任何绘图，并将绘图模式设置为 "空闲"。 焦点将移到顶级地图元素。  |
| `F` | 如果鼠标位于地图上，则将坐标添加到点、线条或多边形。 处于单击或混合模式时，单击该映射的等效操作。 此快捷方式可用于更精确、更快速的绘图。 您可以使用一只手使鼠标和其他人按下按钮，而无需从按下手势移动鼠标。 |

## <a name="next-steps"></a>后续步骤

详细了解 "绘图工具" 模块中的类：

> [!div class="nextstepaction"]
> [绘图管理器](https://docs.microsoft.com/javascript/api/azure-maps-drawing-tools/atlas.drawing.drawingmanager?view=azure-node-latest)

> [!div class="nextstepaction"]
> [绘图工具栏](https://docs.microsoft.com/javascript/api/azure-maps-drawing-tools/atlas.control.drawingtoolbar?view=azure-node-latest)
